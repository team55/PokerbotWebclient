<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Pokerdemo, webclient</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.css"/>
  <link rel="stylesheet" href="css/stylesheet.css"/>
  <script src="blockly/blockly_compressed.js"></script>
  <script src="blockly/blocks_compressed.js"></script>
  <script src="blockly/msg/js/en.js"></script>
  <script src="blocks_poker.js"></script>
  <script src="generator_prolog.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.js"></script>
  <script src="blockly-colors/blocks.js"></script>
  <script src="scripts/Logger.js"></script>
  <script src="scripts/API.js"></script>
  <script src="scripts/Client.js"></script>
  <script src="scripts/Server.js"></script>
</head>
<body>

  <!-- These divs are hidden initially but will be used for logging. -->
  <div id="errdiv" class="ui red label"></div>
  <div id="logdiv" class="ui blue label"></div>

  <div class="header">
    <h2 class="ui header">
      <img src="img/playing-cards.png">
      <div class="content">
        PokerBot
        <div class="sub header">Maak je eigen pokerbot dankzij Innovation Labs!</div>
      </div>
    </h2>
  </div>

  <div class="ui page grid cutbottom">

    <!-- Sign in and status div -->
    <div class="sixteen wide column cleancol">
      <span id="toggledimmer" class="ui teal button">Ga naar een tafel</span>
      <span id="tablestatus"><span class="ui label">Geen verbinding met een tafel</span></span>
    </div>

    <!-- Top data div -->
    <div id="topgraph" class="sixteen wide column center aligned">
      <p> Wanneer je verbonden bent met een tafel, <br /> zullen de resultaten
          hier worden weergegeven.</p>
    </div>

    <!-- Blockly Interface -->
    <div class="ten wide column">
      <div class="ui grid cutbottom">
        <div id="workDiv" class="sixteen wide column">
          <div id="blocklyDiv"></div>
          <xml id="toolbox" style="display: none">
            <category name="Situaties">
              <block type="is_preflop"></block>
              <block type="is_flop"></block>
              <block type="is_turn"></block>
              <block type="is_river"></block>
              <block type="is_postflop"></block>
              <block type="is_small_blind"></block>
              <block type="is_big_blind"></block>
              <block type="is_dealer"></block>
              <block type="logic_boolean"></block>
            </category>
            <category name="Hoeveelheden">
              <block type="stacksize"></block>
              <block type="potsize"></block>
              <block type="active_players"></block>
              <block type="non_allin_active_players"></block>
              <block type="amount_to_call"></block>
              <block type="max_profit"></block>
              <block type="min_raise"></block>
              <block type="max_raise"></block>
              <block type="number_of_raises"></block>
              <block type="random"></block>
              <block type="math_number"></block>
            </category>
            <category name="Vergelijkingen">
              <block type="greater_then"></block>
              <block type="greater_then_or_equal"></block>
              <block type="less_then"></block>
              <block type="less_then_or_equal"></block>
              <block type="equals"></block>
              <block type="and"></block>
              <block type="or"></block>
              <block type="not"></block>
            </category>
            <category name="Bewerkingen">
              <block type="add"></block>
              <block type="substract"></block>
              <block type="multiply"></block>
              <block type="divide"></block>
            </category>
            <category name="Voorwaarden">
              <block type="custom_if"></block>
            </category>
            <category name="Acties">
              <block type="poker_call"></block>
              <block type="poker_fold"></block>
              <block type="poker_raise"></block>
            </category>
            <category name="Kaarten">
              <block type="poker_cards"></block>
              <block type="poker_card">
                <value name="arg_color">
                  <block type="poker_color_any"></block>
                </value>
                <value name="arg_rank">
                  <block type="poker_rank_any"></block>
                </value>
              </block>
              <block type="poker_color"></block>
              <block type="poker_color_same">
                <value name="num">
                  <block type="math_number">
                    <field name="NUM">1</field>
                  </block>
                </value>
              </block>
              <block type="poker_rank"></block>
              <block type="poker_rank_same">
                <value name="num">
                  <block type="math_number">
                    <field name="NUM">1</field>
                  </block>
                </value>
              </block>
              <block type="poker_rank_incr">
                <value name="num">
                  <block type="math_number">
                    <field name="NUM">1</field>
                  </block>
                </value>
                <value name="incr">
                  <block type="math_number">
                    <field name="NUM">1</field>
                  </block>
                </value>
              </block>
            </category>
          </xml>
          <xml id="startBlocks" style="display: none">
            <block type="custom_if" x="55" y="50">
              <value name="IF0">
                <block type="greater_then_or_equal">
                  <value name="A">
                    <block type="stacksize">
                    </block>
                  </value>
                  <value name="B">
                    <block type="potsize">
                    </block>
                  </value>
                </block>
              </value>
              <statement name="DO0">
                <block type="poker_raise">
                  <value name="amount">
                    <block type="potsize">
                    </block>
                  </value>
                </block>
              </statement>
              <next>
                <block type="custom_if">
                  <value name="IF0">
                    <block type="and">
                      <value name="A">
                        <block type="is_preflop">
                        </block>
                      </value>
                      <value name="B">
                        <block type="is_big_blind">
                        </block>
                      </value>
                    </block>
                  </value>
                  <statement name="DO0">
                    <block type="poker_call">
                    </block>
                  </statement>
                  <next>
                    <block type="poker_fold">
                    </block>
                  </next>
                </block>
              </next>
            </block>
          </xml>
        </div>
        <div class="sixteen wide column right aligned">
          <button class="ui mini button" onclick="saveWorkspace()">Blocks opslaan</button>
          <button class="ui mini button" onclick="loadWorkspace()">Blocks openen</button>
          <button id="rulesendbtn" class="ui small teal disabled button" onclick="sendCode()">Activeer Regel</button>
          <div id="sendstatus" class="ui">Regel verzonden!<i class="send icon"></i></div>
          <div id="sendstatuspusher"><br /></div>
        </div>
      </div>
    </div>

    <!-- Bar and Bottom Graph -->
    <div id="bargraph" class="six wide column center aligned"></div>
    <div id="bottomgraph" class="sixteen wide column center aligned"></div>

  </div>

  <!-- This is the content dimmer to connect to a table -->
  <div class="ui page dimmer">
    <div class="content">
      <div class="center">
        <div class="ui two column middle aligned very relaxed stackable grid wlimit">
          <div class="center aligned column">
            <h1>Plaatsnemen</h1>
            <p class="ui inverted connect">
              <span class="ui form">
                <span class="field">
                  <input id="username" type="text" placeholder="Gebruikersnaam">
                </span>
                <span class="field">
                  <input id="tablename" type="text" placeholder="Tafelnaam">
                </span>
                <span class="field">
                  <span id="connectbtn" class="ui teal submit button">Neem plaats</span>
                </span>
                <div id="signInError" class="error"></div>
                <div id="signInLog" class="error"></div>
              </span>
            </p>
          </div>
          <div class="ui inverted vertical divider">
            OF
          </div>
          <div class="center aligned column">
            <h1>Tafel aanmaken</h1>
            <p class="ui inverted connect">
              <span class="ui form">
                <span class="field">
                  <input id="tablecreatename" type="text" placeholder="Tafelnaam">
                </span>
                <span class="field">
                  <input id="tablepassword" type="password" placeholder="Wachtwoord">
                </span>
                <span class="field">
                  <select id="players" class="ui search dropdown">
                    <option value="">Aantal plaatsen</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                  </select>
                </span>
                <span class="field">
                  <button id="createtable" class="ui teal submit button">Maak tafel</button>
                </span>
                <div id="createTableError" class="red error"></div>
                <div id="createTableLog" class="blue log"></div>
              </span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sign out modal -->
  <div class="ui small modal">
    <div class="header">
      Verbinding verbreken?
    </div>
    <div class="content">
      <div class="description">
        <div class="ui header">Opgelet!</div>
        <p> U staat op het punt de verbinding met de tafel te verbreken.
            Indien u dit doet, is er geen enkele manier om opnieuw te verbinden
            met de huidige speler. Indien je een tweede speler wilt besturen,
            is het mogelijk om deze pagina opnieuw te openen in een extra tablad.
            Op deze manier is het mogelijk meerdere spelers tegelijk te besturen. </p>
        <p> Bent u zeker dat u de verbinding wilt verbreken? </p>
      </div>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Nee, toch niet.
      </div>
      <div id="disconnectbtn" class="ui positive right labeled icon button">
        Ja, verbreek de verbinding.
        <i class="checkmark icon"></i>
      </div>
    </div>
  </div>

  <!-- Controller for this page -->
  <script src="scripts/Controller.js"></script>

</body>
</html>
